{"uid":"9aca86cca00f31e4","name":"Проверка работоспособности API gibdd и метода auto","fullName":"auto_tests.nomerogram-api-tests.tests.test_nomerogram.TestNomerogramApi#test_check_performance","historyId":"d6aa0a8ad6d75487d105c464ca62cfe3","time":{"start":1761807608567,"stop":1761807608712,"duration":145},"description":"Тест проверяет работоспособность API и метода.","descriptionHtml":"<p>Тест проверяет работоспособность API и метода.</p>\n","status":"failed","statusMessage":"AssertionError: API gibdd с методом auto не работает\nassert False is True","statusTrace":"self = <tests.test_nomerogram.TestNomerogramApi object at 0x7f9045eb9e10>\napi_checker = <utils.api_checker.NomerogramApiChecker object at 0x7f9046e46ad0>\napi = 'gibdd', method = 'auto'\n\n    @allure.story(\"Проверка работоспособности\")\n    @allure.title(\"Проверка работоспособности API {api} и метода {method}\")\n    @allure.severity(allure.severity_level.CRITICAL)\n    @pytest.mark.parametrize(\"api, method\", [(\"fssp\", \"physical\"), (\"gibdd\", \"auto\")])\n    def test_check_performance(self, api_checker, api, method):\n        \"\"\"Тест проверяет работоспособность API и метода.\"\"\"\n        response = api_checker.check_performance(api, method)\n        with allure.step(\"Проверка статус кода\"):\n            assert (\n                response[\"status\"] == 200\n            ), f\"Ожидался статус код 200, получен {response['status']}\"\n        with allure.step(\"Проверка наличия поля performance\"):\n            assert \"performance\" in response, \"В ответе отсутствует поле 'performance'\"\n        with allure.step(\"Проверка, что API работает\"):\n>           assert (\n                response[\"performance\"] is True\n            ), f\"API {api} с методом {method} не работает\"\nE           AssertionError: API gibdd с методом auto не работает\nE           assert False is True\n\ntest_nomerogram.py:54: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"api_checker","time":{"start":1761807608146,"stop":1761807608146,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"testStage":{"description":"Тест проверяет работоспособность API и метода.","status":"failed","statusMessage":"AssertionError: API gibdd с методом auto не работает\nassert False is True","statusTrace":"self = <tests.test_nomerogram.TestNomerogramApi object at 0x7f9045eb9e10>\napi_checker = <utils.api_checker.NomerogramApiChecker object at 0x7f9046e46ad0>\napi = 'gibdd', method = 'auto'\n\n    @allure.story(\"Проверка работоспособности\")\n    @allure.title(\"Проверка работоспособности API {api} и метода {method}\")\n    @allure.severity(allure.severity_level.CRITICAL)\n    @pytest.mark.parametrize(\"api, method\", [(\"fssp\", \"physical\"), (\"gibdd\", \"auto\")])\n    def test_check_performance(self, api_checker, api, method):\n        \"\"\"Тест проверяет работоспособность API и метода.\"\"\"\n        response = api_checker.check_performance(api, method)\n        with allure.step(\"Проверка статус кода\"):\n            assert (\n                response[\"status\"] == 200\n            ), f\"Ожидался статус код 200, получен {response['status']}\"\n        with allure.step(\"Проверка наличия поля performance\"):\n            assert \"performance\" in response, \"В ответе отсутствует поле 'performance'\"\n        with allure.step(\"Проверка, что API работает\"):\n>           assert (\n                response[\"performance\"] is True\n            ), f\"API {api} с методом {method} не работает\"\nE           AssertionError: API gibdd с методом auto не работает\nE           assert False is True\n\ntest_nomerogram.py:54: AssertionError","steps":[{"name":"Проверка работоспособности API","time":{"start":1761807608567,"stop":1761807608692,"duration":125},"status":"passed","steps":[],"attachments":[{"uid":"3e823b102e3935dc","name":"Request URL","source":"3e823b102e3935dc.txt","type":"text/plain","size":112},{"uid":"d5a53008a1b7c797","name":"Request Headers","source":"d5a53008a1b7c797.txt","type":"text/plain","size":121},{"uid":"3a9df3bd74b12b73","name":"Response Status Code","source":"3a9df3bd74b12b73.txt","type":"text/plain","size":3},{"uid":"d75418f009176644","name":"Response Headers","source":"d75418f009176644.txt","type":"text/plain","size":262},{"uid":"cf26b2b355894df0","name":"Response Body","source":"cf26b2b355894df0.json","type":"application/json","size":117}],"parameters":[{"name":"api","value":"'gibdd'"},{"name":"method","value":"'auto'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":5,"hasContent":true},{"name":"Проверка статус кода","time":{"start":1761807608692,"stop":1761807608692,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверка наличия поля performance","time":{"start":1761807608692,"stop":1761807608692,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Проверка, что API работает","time":{"start":1761807608692,"stop":1761807608693,"duration":1},"status":"failed","statusMessage":"AssertionError: API gibdd с методом auto не работает\nassert False is True\n","statusTrace":"  File \"/root/auto_tests/nomerogram-api-tests/tests/test_nomerogram.py\", line 54, in test_check_performance\n    assert (\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":4,"attachmentsCount":5,"hasContent":true},"afterStages":[],"labels":[{"name":"feature","value":"Проверка API Nomerogram"},{"name":"story","value":"Проверка работоспособности"},{"name":"severity","value":"critical"},{"name":"parentSuite","value":"auto_tests.nomerogram-api-tests.tests"},{"name":"suite","value":"test_nomerogram"},{"name":"subSuite","value":"TestNomerogramApi"},{"name":"host","value":"afina-autotest"},{"name":"thread","value":"2861431-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"auto_tests.nomerogram-api-tests.tests.test_nomerogram"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"api","value":"'gibdd'"},{"name":"method","value":"'auto'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"critical","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"9aca86cca00f31e4.json","parameterValues":["'gibdd'","'auto'"]}